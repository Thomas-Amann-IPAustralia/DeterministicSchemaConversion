tables:
  primary:
    filename: "Primary.csv"
    root_path: "$"
    columns:
      UDID: "identifier.value"
      Headline: "headline"
      Headline_Alt: "alternativeHeadline"
      Description: "description"
      Stable_URL: "url"
      Date_Published: "datePublished"
      Date_Modified: "dateModified"
      Geographic_Area: "audience.geographicArea.name"
      IP_Right_Name: "about.name"
      IP_Right_Wikidata_URL: "about.sameAs"
      Service_Type: "mainEntity[0].@type"
      Service_Name: "mainEntity[0].name"
      HowTo_Name: "mainEntity[?(@.@type=='HowTo')].name"
      Service_Provider: 
        path: "mainEntity[0].serviceOperator.name"
        default: "Self-service"
        logic: "if_article_then_self_service"

  influences:
    filename: "Influences.csv"
    root_path: "$"
    columns:
      UDID: "identifier.value"
      Headline_Alt: "alternativeHeadline"
      Influence_Priority: "const:Null (FOR NOW)"
      Influence_ID: "const:Null (FOR NOW)"
      Influence_URL: "const:Null (FOR NOW)"

  links_to:
    filename: "LinksTo.csv"
    root_path: "relatedLink[*]"
    columns:
      UDID: "parent:identifier.value"
      Headline_Alt: "parent:alternativeHeadline"
      Destination_URL: "url"
      Destination_name: "name"
      Internal_Destination: 
        path: "url"
        logic: "check_internal_link"
      Internal_Destination_UDID: 
        path: "url"
        logic: "extract_udid_from_url"

  howto:
    filename: "HowTo.csv"
    root_path: "mainEntity[?(@.@type=='HowTo')].step[*]" 
    columns:
      UDID: "parent:identifier.value"
      HowTo_Name: "parent:mainEntity[?(@.@type=='HowTo')].name"
      Step_Name: "name"
      Step_Description: "text"

  faq:
    filename: "FAQ.csv"
    root_path: "mainEntity[?(@.@type=='FAQPage')].mainEntity[*]"
    columns:
      UDID: "parent:identifier.value"
      Headline_Alt: "parent:alternativeHeadline"
      Question: "name"
      Answer: "acceptedAnswer.text"
      Category: 
        path: "name"
        logic: "categorize_faq"

  semantic:
    filename: "Semantic.csv"
    root_path: "$"
    columns:
      UDID: "identifier.value"
      Headline_Alt: "alternativeHeadline"
      Chunk_ID: "const:Null (FOR NOW)"
      Chunk_Token_Count: "const:Null (FOR NOW)"
      Chunk_Text: 
        path: "description"
        logic: "append_headline"
      Chunk_Embedding: "const:Null (FOR NOW)"
      Chunk_Injection: "const:Null (FOR NOW)"

  raw_data:
    filename: "RawData.csv"
    root_path: "$"
    columns:
      UDID: "identifier.value"
      Headline_Alt: "alternativeHeadline"
      HTML_Raw: "const:<html>Placeholder</html>"
      HTML_Raw_Token_Count: "const:0"
      MD_Raw: "const:## Markdown Placeholder"
      MD_Raw_Token_Count: "const:0"
      JSON_Raw: "whole_json"
      Json_Raw_Token_Count: "logic:count_json_tokens"
